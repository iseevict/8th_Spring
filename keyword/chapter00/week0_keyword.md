# IP


    💡
      `Internet Protocol`의 약자
      단순하게 인터넷 상에서 주소를 의미 (EX | 화양동 17-14)

      종류는 2가지가 있음
        - IPv4 / IPv6
        - 일반적으로 쓰이는 주소는 IPv4

      나누는 방식 또한 2가지
        - 고정/유동 IP
        - 공인/사설 IP

**IPv4란 무엇일까?**
- IP version 4 의 약자
- 전 세계적으로 사용된 첫 번째 인터넷 프로토콜
- 주소는 32비트 방식 / 8비트 X 4자리 로 되어있고 각 자리는 온점으로 구분
  - ex) 117.10.77.99
  - 0 ~ 2^32 로 약 43억개 정도 주소를 가질 수 있음
    - 인터넷 사용자 수 급증으로 인해 IPv4 주소 고갈 위기에 처해있다. → 이 문제를 해결하기 위해 나온 것이 IPv6

**IPv6란 무엇일까?**
- IP version 6의 약자
- 주소를 32비트에서 128비트 크기로 확장한 차세대 인터넷 프로토콜 주소이다.
- 16비트씩 8자리로 각 자리는 콜론으로 구분한다.
  - ex)2001:0509:AAAA:BBBB:CCCC:DDDD:0000:1111
  - 보안적으로나 속도적으로나 여러 방면에서 더 뛰어나지만 기존 주소체계를 변경하는 비용이 많이 들어 상용화가 되진 않은상태

**고정 IP와 유동 IP**

고정 IP
- 이름 그대로 변하지 않는 컴퓨터에 고정적으로 부여된 IP

유동 IP
- 이름 그대로 변하는 IP
- 일정한 주기 또는 사용자들이 인터넷에 접속하는 순간마다 사용하고 있지 않은 IP 주소를 임시로 발급해주는 IP
- 대부분의 사용자가 사용

**공인 IP와 사설 IP**

IP 주소는 누가 부여하는 걸까?
- 전 세계적으로 ICANN 이라는 기관이 국가별로 사용할 IP 대역 관리
- 우리나라는 KISA에서 국내 IP 주소 관리

ISP (Internet Service Provider / 그냥 KT, LG, SKT 라 생각하면 됨)
- 위 업체같이 인터넷 제공 통신업체들이 IP를 부여받음
- 우리는 위 회사에 가입( 인터넷 가입 )을 통해 IP를 제공받아 인터넷 사용
- 이렇게 발급받은 IP가 `공인IP` 이다.

그렇다면 사설 IP는 무엇인가?

- 공유기를 사용한 인터넷 접속 환경인 경우 → 공유기까지는 공인 IP 할당
- 공유기에 연결되어 있는 각 네트워크 기기에는 `사설IP` 할당
- 즉, 사설 IP는 한 네트워크 안에서 사용되는 고유한 주소.
- 또한 공인 IP는 외부, 내부 상관없이 접속 가능하지만, 사설IP는 내부에서만 접근 가능
  - 위와 같은 이유로 포트포워딩이란 개념도 존재.

# PORT

     💡
     IP가 주소라면 PORT는 자세한 주소(?) 정도라 생각한다. (EX | 300004호)


**PORT 란?**
- 통신의 종단점
- 소프트웨어에선 특정 서비스나 프로세스를 식별하는 논리 단위
- URI 문법에 의해 사용 및 표기가 가능 → IP 주소 끝에 붙여서 작성
  - ex) https:000.111.222.333:8080 → 여기서 8080 이 PORT 이다.

**왜 사용하는가?**
- IP 를 통해 데이터가 목적지 서버까지 도착했다고 했을 때
  - 서버에서 어떤 프로그램으로 가야하는지 알기 위해 사용한다.

**Well-Known PORT**
- 이름 그대로 잘 알려진 PORT 번호들 (약속같은 느낌?)
- PORT 번호는 0 ~ 65535번 까지 이루어져 있다.
  - 여기서 또 크게 3가지로 나뉘어져 있는데
    - 0 ~ 1023 이 잘 알려진 포트
    - 1024 ~ 49151 이 등록된 포트
    - 49152 ~ 65535 가 동적 포트이다.

![image](https://github.com/user-attachments/assets/26a1215d-b734-499f-aea8-390acdd4fa93)


Well-Known Ports

# CIDR

기존 IP Class 체계보다 더 유연하게 IP 주소를 여러 네트워크 영역으로 나누기 위해 사용되는 라우팅 기법
- 이라고 하면 이해가 참 안된다.

먼저 IP는 5개의 클래스로 나뉜다. (A ~ E / D랑 E는 멀티캐스트, 연구용)

![image](https://github.com/user-attachments/assets/73ea17e1-9776-460c-a590-82dd8642a53d)


- D 랑 E는 위에 적은대로 멀캐, 연구용이라 A, B, C만 알면 된다고 한다.
- 사진으로 보면 이해가 안되는데 단순하게 [ 네트워크 와 호스트 ] 부분으로 나눈다고 생각하면 된다.
- A클래스
  - 위 사진처럼 제일 앞이 0인 IP가 A클래스
  - IP 주소는 8비트(옥텟 이라고 부른다) x 4로 이루어져 있는데, 가장 앞 옥텟이 네트워크, 뒤에 남은 세 옥텟이 호스트 할당을 받는다.
  - 즉, A클래스에서 네트워크 할당은 00000000 ~ 01111111 까지로 2^7인 128개 이고
  - 호스트 할당은 2^(8 x 3) 으로 2^24가 된다.
- B클래스
    - 10으로 시작하는 IP가 B클래스
    - A와 달리 앞에 두 옥텟이 네트워크 할당, 나머지 두 옥텟이 호스트 할당을 받는다.
    - 즉, B클래스에서 네트워크 할당은 2^(8-2+8) 로 2^14개 이고
    - 호스트 할당은 2^(8 + 8) 로 2^16개 이다.
- C클래스
    - 110으로 시작하는 IP가 C클
    - 앞에 세 옥텟이 네트워크 할당, 나머지 옥텟 하나가 호스트 할당
    - 네트워크 할당은 2^(8-3+8+8)로 2^21개
    - 호스트 할당은 2^8개 이다.

**그렇다면 이 클래스 체계가 무슨 문제가 있어서 CIDR가 나온 것일까?**

- 사용할 수 있는 호스트의 수가 일정하게 정해져 있다는 것이 문제다.

  > 예시로 E회사에서 500개의 호스트가 필요한 상황이다.
  그렇다면 E회사는 C클래스(호스트 수 2^8 = 254개) 는 부족하니 안되고 다음 클래스인 B클래스 (2^16 = 65536개) 대역을 사용해야 하는데.. 500개가 필요한데 65536개를 할당 받는건 너무 낭비인 상황이 발생하는 것이다.
  >

**이러한 문제를 해결하기 위해 나온 것이 CIDR이다.**

- CIDR 표기법
  - 0.0.0.0/N
    - 여기서 N은 0 ~ 32 이다.

단순하게 앞에서부터 N개의 비트는 고정시키겠다는 뜻이다.

예시로 123.456.0.0/16 이라면

- 앞에서 부터 16비트 → 두 옥텟은 고정 시키고 뒤에 남은 두 옥텟이 할당받는 부분이 된다.
  - 8, 16, 24, 32 가 되면 구분점 별로 나뉘어 져서 계산하기 편하다.

하나 더 예시로 계산까지 하면

  > 192.168.10.0/23 인 경우
  >
  >
  > 11000000.10101000.00001010.00000000/23 이다.
  >
  > 즉, 11000000.10101000.00001010.00000000 이렇게 나뉘어 진다.
  >
  > 이럴 경우엔 끊기는 옥텟만 봐주면 된다.
  >
  > 00001010 or 00001011 이 될텐데 십진수로 변환하면 10 or 11이다.
  >
  > 즉, 할당받는 대역은 192.168.10.0 ~ 192.168.11.255 가 되는 것이다.
>

# TCP와 UDP 차이

    
    💡
      둘 다 데이터를 보내기 위해 사용되는 프로토콜 이다.
      크게 `신뢰성`과 `속도`의 차이가 있다.
      TCP : 신뢰성 ↑ 속도 ↓
      UDP : 신뢰성 ↓ 속도 ↑

    

**TCP 란?**

- Transmission Control Protocol
- 연결 지향 방식으로 패킷 교환 방식 사용
- 3-way handshaking 과정을 통해 연결 설정
- 4-way handshaking 과정을 통해 연결 해제
- 높은 신뢰성 보장
- UDP에 비해 속도가 느림
- 전이중(Full Duplex) 점 대 점(Point to Point) 방식
  - 점 대 점은 두 컴퓨터가 서로 연결
    - 전이중은 데이터가 수신측, 송신측 양 쪽 방향으로 동시 전송
  - 주로 연속성보단 신뢰성있는 전송이 중요할 때 사용함

![image](https://github.com/user-attachments/assets/3d6c8b29-f535-42d3-bb93-932cf6cb19b0)


TCP Flow

**UDP 란?**

- User Datagram PRotocol
- 즉, 데이터를 데이터그램(독립적 관계를 지니는 패킷) 단위로 처리하는 프로토콜
- TCP와 달리 비연결형 방식
- 비연결형 이기에 각각의 패킷이 다른 경로로 전송되고 독립적인 관계를 지님
  - 결과적으로 각각의 패킷을 독립적으로 처리
- 신뢰성이 낮음
- TCP 보다 속도 빠름
- 주로 스트리밍 서비스 같은 신뢰성보다 연속성이 중요한 서비스에서 사용

![image](https://github.com/user-attachments/assets/ed91f6ad-7966-468b-9ebc-b1c49ecda63f)


UDP FLOW

# Web Server와 WAS의 차이

    
    💡
      워크북에 적혀있듯이 정적이냐 동적이냐의 차이가 큰 듯 합니다


**Web Server?**

- 정적인 컨텐츠( html, jpeg 등 )를 제공

기능

- HTTP 프로토콜 기반으로 클라이언트의 요청에 대해 서비스 제공하는 기능
- 크게 2가지
  - 정적인 컨텐츠 제공 (WAS 거치지 않음)
  - 동적인 컨텐츠 제공을 위한 요청 전달
    - 클라이언트의 요청을 WAS에 전달, WAS가 처리한 결과를 클라이언트에게 전달

**WAS?**
- Web Application Server
- 동적인 컨텐츠 제공
- 웹 컨테이너 또는 서블릿 컨테이너 라고도 불림
  - 컨테이너는 JSP 또는 Servlet 을 실행시킬 수 있는 소프트웨어

역할
- WAS = Web Serber + Web Container
- 즉, Web Server 기능들을 구조적으로 분리하여 처리하고자 하는 목적
- 주로 DB 서버와 같이 수행됨

기능
- 프로그램 실행 환경 및 DB 접속 기능 제공
- 여러 트랜잭션 관리 기능
- 비즈니스 로직 수행

**왜 구분할까?**

Web Server 가 필요한 이유
- 정적 컨텐츠만 처리하는 기능을 따로 분배하여 서버 부담 줄일 수 있음

WAS 가 필요한 이유
- 사용자의 요청에 맞는 데이터를 DB에서 가져와서 비즈니스 로직에 맞게 결과 처리 후 제공하여 자원 효율적 사용 가능

그럼 WAS가 Web Server 기능까지 모두 수행하면 되는거 아닌가?
- 장애 해결 및 효율적인 자원 이용, 배포 및 유지보수 편의성 등을 위해 Web Server와 WAS를 분리
